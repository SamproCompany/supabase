<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test</title>
</head>
<body>

  <input type="text" id="user" placeholder="Username" />
  <input type="password" id="password" placeholder="Password" />
  <button onclick="insertUserData()">Wstaw dane</button>

  <script>
    async function insertUserData() {
      const user = document.getElementById("user").value;
      const password = document.getElementById("password").value;
      const host = `${user}@${password}`;

      console.log("Kliknięto! Dane do wysłania:", host);

      try {
        const response = await fetch("https://database.intonowac-tkane1q.workers.dev/", {
          method: "POST",
          headers: {
            "Content-Type": "text/plain"
          },
          body: host
        });

        const result = await response.text();
        console.log("Odpowiedź z serwera:", result);
        alert("Odpowiedź serwera: " + result);

      } catch (err) {
        console.error("Błąd:", err);
        alert("Błąd: " + err.message);
      }
    }
  </script>

</body>
</html>
